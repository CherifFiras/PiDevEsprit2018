{% extends 'front.html.twig' %}
{% block css %}
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.0.0/css/bootstrap-slider.min.css">
    <link rel="stylesheet" type="text/css" href="{{ asset('css/dropdown.min.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ asset('css/popup.min.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ asset('css/transition.min.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ asset('css/icon.min.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ asset('css/label.min.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ asset('css/site.min.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ asset('css/reset.min.css') }}">
{% endblock %}
{% block content %}
    <div class="container">
        <div class="row">
            <div class="col-xl-9 order-xl-2 col-lg-9 order-lg-2 col-md-12 order-md-1 col-sm-12 col-xs-12">
                <div class="ui-block">
                    <div class="ui-block-title">
                        <h6 class="title">Resultat de recherche</h6>
                    </div>
                    <div class="ui-block-content pre-scrollable">
                        <ul class="notification-list friend-requests">
                            <li>
                                <div class="author-thumb">
                                    <img src="{{ asset('img/avatar16-sm.jpg') }}" alt="author">
                                </div>
                                <div class="notification-event">
                                    <a href="#" class="h6 notification-friend">Tony Stevens</a>
                                    <span class="chat-message-item">4 Friends in Common</span>
                                </div>
                                <span class="notification-icon">
                                    <a href="#" class="accept-request">
                                        <span class="icon-add">
                                            <svg class="olymp-happy-face-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{{ asset('icons/icons.svg#olymp-happy-face-icon') }}"></use></svg>
                                        </span>
                                        Demande de Communication
                                    </a>
						        </span>
                                <div class="more">
                                    <svg class="olymp-three-dots-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{{ asset('icons/icons.svg#olymp-three-dots-icon') }}"></use></svg>
                                    <svg class="olymp-little-delete"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{{ asset('icons/icons.svg#olymp-little-delete') }}"></use></svg>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="col-xl-3 order-xl-1 col-lg-3 order-lg-1 col-md-12 order-md-2 col-sm-12 col-xs-12 responsive-display-none">
                <div class="ui-block">
                    <div class="your-profile">
                        <div id="accordion" role="tablist" aria-multiselectable="true">
                            <div class="card">
                                <div class="card-header" role="tab" id="headingOne">
                                    <h6 class="mb-0">
                                        <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                            Informations Personelle
                                            <svg class="olymp-dropdown-arrow-icon"><use xlink:href="{{ asset('icons/icons.svg#olymp-dropdown-arrow-icon') }}"></use></svg>
                                        </a>
                                    </h6>
                                </div>

                                <div id="collapseOne" class="collapse show" role="tabpanel" aria-labelledby="headingOne">
                                    <ul class="your-profile-menu">
                                        <li>
                                            <div class="form-group ui selection dropdown">
                                                <input type="hidden" name="gender" id="gender">
                                                <i class="dropdown icon"></i>
                                                <div class="default text">Gender</div>
                                                <div class="menu">
                                                    <div class="item" data-value="M">Male</div>
                                                    <div class="item" data-value="F">Female</div>
                                                </div>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="form-group">
                                                <label class="control-label" style="font-weight:500;margin-right:85px;">Age</label>
                                                <input id="ageInt" type="text" class=" form-control" value="" data-slider-min="18" data-slider-max="60" data-slider-step="1" data-slider-value="[18,60]"/>
                                            </div>
                                        </li>
                                        <li>
                                            <div id="occupation_div" class="form-group">
                                                <select id="occupation" class="ui fluid search dropdown" multiple="">
                                                    <option value="">Occupation</option>
                                                    <option value="Prof">Professeur</option>
                                                    <option value="Ing">Ingenieur</option>
                                                </select>
                                            </div>
                                        </li>
                                        <li>
                                            <div id="religion_div" class="form-group">
                                                <select id="religion" class="ui fluid search dropdown" multiple="">
                                                    <option value="">Relegion</option>
                                                    <option value="Islam">Islam</option>
                                                    <option value="Christianisme">Christianisme</option>
                                                    <option value="Judaïsme">Judaïsme</option>
                                                    <option value="Hindouisme">Hindouisme</option>
                                                    <option value="Bouddhisme">Bouddhisme</option>
                                                </select>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="form-group">
                                                <select id="country" class="ui fluid search dropdown" multiple="">
                                                    <option value="">Pays</option>
                                                </select>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="form-group">
                                                <select id="region" class="ui fluid search dropdown" multiple="">
                                                    <option value="">Region</option>
                                                </select>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="form-group">
                                                <select id="city" class="ui fluid search dropdown" multiple="">
                                                    <option value="">Ville</option>
                                                </select>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div id="accordion2" role="tablist" aria-multiselectable="true">
                            <div class="card">
                                <div class="card-header" role="tab" id="headingTwo">
                                    <h6 class="mb-0">
                                        <a data-toggle="collapse" data-parent="#accordion2" href="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
                                            Centres d'intérêt
                                            <svg class="olymp-dropdown-arrow-icon"><use xlink:href="{{ asset('icons/icons.svg#olymp-dropdown-arrow-icon') }}"></use></svg>
                                        </a>
                                    </h6>
                                </div>

                                <div id="collapseTwo" class="collapse show" role="tabpanel" aria-labelledby="headingTwo">
                                    <ul class="your-profile-menu">
                                        <li>
                                            <div id="film_div" class="form-group">
                                                <select id="film" class="ui fluid search dropdown" multiple="">
                                                    <option value="">Films</option>
                                                </select>
                                            </div>
                                        </li>
                                        <li>
                                            <div id="serie_div" class="form-group">
                                                <select id="serie" class="ui fluid search dropdown" multiple="">
                                                    <option value="">Series</option>
                                                </select>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="form-group">
                                                <select id="livre" class="ui fluid search dropdown" multiple="">
                                                    <option value="">Livres</option>
                                                    <option value="Insomnia">Insomnia</option>
                                                    <option value="The Shinin">The Shining</option>
                                                    <option value="The Social Animal">The Social Animal</option>
                                                    <option value="Do androids dream with an electric ship">Do androids dream with an electric ship</option>
                                                </select>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="form-group">
                                                <select id="music" class="ui fluid search dropdown" multiple="">
                                                    <option value="">Musique</option>
                                                    <option value="Rap">Rap</option>
                                                    <option value="Metal">Metal</option>
                                                    <option value="Rock">Rock</option>
                                                </select>
                                            </div>
                                        </li>
                                    </ul>
                                    <div class="ui-block-title">
                                        <a id="searchh"  class="h6 title ">Rechercher</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block js %}
    <script type="text/javascript" src="{{ asset('js/popup.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('js/dropdown.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('js/transition.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('js/BattutaApi.js') }}"></script>
    <script type="text/javascript" src="{{ asset('js/themoviedbApi.js') }}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.0.0/bootstrap-slider.min.js"></script>
    <script>
        var age;
        $(document).ready(function() {
            $('.ui.dropdown').dropdown({
                onChange:function (x,y,z) {
                }
            });

            $("#film_div").find(".search").keyup(function (v) {
                loadFilms($("#film_div").find("input").val(),"#film");
            });
            $("#serie_div").find(".search").keyup(function (v) {
                loadSeries($("#serie_div").find("input").val(),"#serie");
            });

            $("#searchh").click(function () {
                var gender = $("#gender").val();
                var occupation = $("#occupation").val();
                var religion = $("#religion").val();
                var pays = $("#country").val();
                var ville = $("#region").val();
                var region = $("#city").val();
                var film = $("#film").val();
                var serie = $("#serie").val();
                var livre = $("#livre").val();
                var musique = $("#music").val();
                $.ajax({
                    url:"{{ path("search_result") }}",
                    type:'get',
                    data:{"gender":gender,"age":age,"occupation":occupation},
                    success:function (data) {
                        console.log(data);
                    }
                });

            });
        });
        $("#ageInt").slider();
        $("#ageInt").on("slideStart", function(slideEvt) {
            $(".tooltip").css("opacity",100);
        });
        $("#ageInt").on("slideStop", function(slideEvt) {
            $(".tooltip").css("opacity",0);
            age = slideEvt.value;
        });
    </script>
{% endblock %}